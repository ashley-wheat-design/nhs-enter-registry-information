{% extends '../../layout.html' %}
{% set pageName = "Scan a device" %}
{% set currentSection = "record-procedure" %}
{% set shouldAutofocus = data.hasScanner == true %}

{% block beforeContent %}
<a class="nhsuk-back-link" href="/record-procedure/devices/add-devices">Back</a>
{% endblock %}

{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">

    <form class="form" action="/record-procedure/devices/scan-device" method="post">
      <h1 class="nhsuk-heading-l">Scan a device</h1>

      {% if data.deviceScanError %}
      <p class="nhsuk-error-message" id="scanned-udi-error">
        <span class="nhsuk-u-visually-hidden">Error:</span>
        {{ data.deviceScanError }}
      </p>
      {% endif %}

      <div class="nhsuk-form-group{% if data.deviceScanError %} nhsuk-form-group--error{% endif %}">
        <label class="nhsuk-label" for="scanned-udi">Barcode value</label>
        <div class="nhsuk-hint" id="scanned-udi-hint">
          Scan the device's barcode.
        </div>
        <input
          class="nhsuk-input"
          id="scanned-udi"
          name="scannedUdi"
          type="text"
          aria-describedby="scanned-udi-hint{% if data.deviceScanError %} scanned-udi-error{% endif %}"
          value="{{ data.scannedUdi }}"
        >
      </div>

      <button class="nhsuk-button" data-module="nhsuk-button" type="submit">Continue</button>
    </form>

  </div>
</div>
{% endblock %}
